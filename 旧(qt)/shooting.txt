shooting

static std::unordered_set<bullet_player_default*> instances; 

    4
  3   5
2       6
  1    7
    0

QMetaObject::invokeMethod(QCoreApplication::instance(), をマクロ化したい
  -> im関数を使用

jsonの構文を改良したい

デストラクタdisconnect関数 多少の効果はありそう
mutexを使うと逆にクラッシュ
bullet_p_d だけでフリーズ 削除機構に問題?
	問題あり eventlopp_1sで削除機構を追加 うまく動作する

####################################################################################################


画面外処理(削除機構)に問題 タイミングとしてはeventloop_1sで削除確認が入った時
 -> 単純にCPUへの負荷が高くなりすぎた場合にクラッシュする可能性高
  -> 秒数で管理する仕組みも検討すべき?
   -> その場合、eventloop_1sを削除
メインスレッドの高負荷がクラッシュの原因の可能性高

instancesの競合や、処理中の変更などが原因?
  -> instances_new から　moveAll関数が処理終わったらinstancesにコピーする仕様に
    -> 完璧なイベントループ委託型へ
	  -> player keyevent から直結でif%分岐で適度に作成?
bpdを削除しようとするとクラッシュが頻発する bpdを野放しにしてみたところくっラッシュは起こらない 一定間隔(数分)ごとに少し弾幕やませてリフレッシュ入れるか?

秒数管理式か一定間隔消去式か
一定間隔消去式は少し難しさを感じている


####################################################################################################


bullet_p_d が異常に重い? それを生成しなければプログラム自体はぎりぎり耐える
単純にオブジェクト数多すぎ? サイズの変更も考えるべき
とにかくCPUが限界 仕事を減らすかGPUに効率的に渡すか
qtの軽量オプションも視野に入れるべき chatgptに聞いてみる?
イベントループに毎フレーム更新以外も、もっと間隔をあけて更新するやつがあってもいいかも

イベントループ全面委任型はラグがひどかった オブジェクト自身が動くけれど、その関数はイベントループが呼び出す ぐらいがいいのかも?